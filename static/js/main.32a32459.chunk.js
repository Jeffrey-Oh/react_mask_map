(this["webpackJsonp19-kakao-map"]=this["webpackJsonp19-kakao-map"]||[]).push([[0],{48:function(e,t,n){e.exports=n(76)},74:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(16),o=n.n(l),c=n(10),i=n(11);function u(){var e=Object(c.a)(["\nbackground-color: #173647;\ntext-align: center;\ncolor: #fff;\nfont-size: 18px;\nheight: 36px;\nline-height: 36px;\nwidth: 100%;\nposition: fixed;\nleft: 0;\ntop: 0;\n"]);return u=function(){return e},e}var s,d=i.a.h1(u()),g=function(){return r.a.createElement(d,null,"Mask Map")},f=n(12),p=n(24),b=n(38),m=n(17),v=n(15),h=n(21),E=n.n(h),k=n(40),O=n(13),j=n(79),y=n(78),x=n(41),w=n.n(x),A=Object(j.a)("maskMap/SEARCH"),M=Object(j.a)("maskMap/SEARCH_SUCCESS"),C=Object(j.a)("maskMap/SEARCH_FAILURE"),S={result:[],loading:!1,error:!1},R=Object(y.a)((s={},Object(O.a)(s,A,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;arguments.length>1&&arguments[1];return Object(f.a)({},e,{loading:!0})})),Object(O.a)(s,M,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;return Object(f.a)({},e,{result:t.payload.result,loading:!1})})),Object(O.a)(s,C,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;return Object(f.a)({},e,{loading:!1,error:t.payload.error})})),s),S),H=function(e,t){return function(){var n=Object(k.a)(E.a.mark((function n(a){var r;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a(A()),e&&t){n.next=4;break}return M({result:[]}),n.abrupt("return");case 4:return n.prev=4,n.next=7,w.a.get("https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByGeo/json",{params:{lat:e,lng:t,m:5e3}});case 7:r=n.sent,a(M({result:r.data.stores})),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),a(C({error:"\uac80\uc0c9\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."}));case 14:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e){return n.apply(this,arguments)}}()};function G(){var e=Object(c.a)(["\n  padding-top: 36px;\n  height: calc(100% - 36px);\n"]);return G=function(){return e},e}var P=i.a.div(G()),D=Object(b.geolocated)({positionOptions:{enableHighAccuracy:!0,maximumAge:0,timeout:1/0},watchPosition:!0})((function(e){var t={lat:37.485355200868526,lng:126.89935859355552},n={enableHighAccuracy:!0,maximumAge:0,timeout:1/0};e.coords?(t.lat=e.coords.latitude,t.lng=e.coords.longitude):navigator.geolocation.getCurrentPosition((function(e){var n=e.coords;t.lat=n.latitude,t.lng=n.longitude}),(function(e){console.warn("ERROR("+e.code+"): "+e.message)}),n);var a=r.a.useState(t),l=Object(p.a)(a,2),o=l[0],c=l[1],i=r.a.useState(),u=Object(p.a)(i,2),s=(u[0],u[1],Object(v.c)((function(e){return Object(f.a)({},e.maskMapModule)}))),d=s.result,g=s.loading,b=s.error,h=Object(v.b)();return r.a.useEffect((function(){h(H(o.lat,o.lng))}),[]),r.a.useEffect((function(){h(H(o.lat,o.lng))}),[o]),e.isGeolocationAvailable?e.isGeolocationEnabled?e.coords?g?r.a.createElement(P,null,r.a.createElement(m.a,{kakaoApiKey:"680ab974e5cb1353034d6d7f21f2ec44",initialPosition:{longitude:o.lng,latitude:o.lat,level:10},onDragEnd:function(e){var t=e.getCenter();c({lat:t.Ha,lng:t.Ga})},center:{longitude:o.lng,latitude:o.lat}})):b?r.a.createElement("h2",{style:{paddingTop:"36px",color:"#f00"}},b):r.a.createElement(P,null,r.a.createElement(m.a,{kakaoApiKey:"680ab974e5cb1353034d6d7f21f2ec44",initialPosition:{longitude:o.lng,latitude:o.lat,level:10},onDragEnd:function(e){var t=e.getCenter();c({lat:t.Ha,lng:t.Ga})},center:{longitude:o.lng,latitude:o.lat}},d.map((function(e,t){var n=null;switch(e.remain_stat){case"plenty":"green",n="100\uac1c \uc774\uc0c1";break;case"some":"yellow",n="30\uac1c \uc774\uc0c1 100\uac1c \ubbf8\ub9cc";break;case"few":"red",n="2\uac1c \uc774\uc0c1 30\uac1c \ubbf8\ub9cc";break;case"empty":"grey",n="1\uac1c \uc774\ud558";break;default:"black",n="\ud310\ub9e4\uc911\ub2e8"}return r.a.createElement(m.b,{key:t,longitude:e.lng,latitude:e.lat,onClick:function(){alert("".concat(e.name," / ").concat(n))}})})))):r.a.createElement(P,null," \uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc704\uce58 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. "):r.a.createElement(P,null," \uc704\uce58 \uc815\ubcf4 \uc0ac\uc6a9\uc774 \ud5c8\uc6a9\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4. "):r.a.createElement(P,null," \ub514\ubc14\uc774\uc2a4\uac00 \uc704\uce58 \uc815\ubcf4\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. ")}));function _(){var e=Object(c.a)(["\nwidth: 100%;\nheight: 100%;\n"]);return _=function(){return e},e}var B=i.a.div(_()),I=function(){return r.a.createElement(B,null,r.a.createElement(g,null),r.a.createElement(D,null))};n(74);var J=function(){return r.a.createElement(I,null)},K=n(46),L=n(4),T=n(42),U=n(43),z=n(44),F=Object(L.combineReducers)({maskMapModule:R}),W=Object(U.createLogger)(),q=Object(L.createStore)(F,Object(T.composeWithDevTools)(Object(L.applyMiddleware)(W,z.a)));o.a.render(r.a.createElement(v.a,{store:q},r.a.createElement(K.a,null,r.a.createElement(J,null))),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.32a32459.chunk.js.map