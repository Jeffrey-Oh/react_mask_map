{"version":3,"sources":["assets/images/bg_btn_tt_search.gif","modules/SearchMap.js","components/Header.js","modules/MaskMap.js","containers/MaskMapContainer.js","pages/MaskMapPage.js","App.js","modules/index.js","index.js"],"names":["module","exports","searchAction","createAction","searchSuccessAction","searchFailureAction","initialState","result","loading","error","handleActions","state","action","payload","WrapDiv","styled","div","TitleBar","h1","TitleText","span","SearchBar","input","SearchBtn","bg_btn_tt_search","SearchDiv","SearchList","ul","SearchListItem","li","handleSearchBar","searchInput","document","getElementById","titleSpan","searchBtn","style","display","transform","transitionDuration","setTimeout","Header","props","useSelector","searchMapModule","dispatch","useDispatch","React","useState","place","setPlace","useEffect","a","axios","get","params","query","headers","Authorization","data","documents","id","onClick","placeEle","value","alert","focus","length","map","item","index","key","coords","latitude","y","longitude","x","address_name","maskAsync","lat","lng","m","stores","MapBox","geolocated","positionOptions","enableHighAccuracy","maximumAge","timeout","Infinity","watchPosition","pos","options","navigator","geolocation","getCurrentPosition","res_pos","crd","err","console","warn","code","message","position","setPosition","maskMapModule","isGeolocationAvailable","isGeolocationEnabled","kakaoApiKey","initialPosition","level","onDragEnd","center","getCenter","Ha","Ga","paddingTop","color","remain_stat","name","Container","MaskMapPage","App","combineReducers","store","createLogger","createStore","rootReducer","composeWithDevTools","applyMiddleware","ReduxThunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.d7d74d28.chunk.js","sourcesContent":["module.exports = \"data:image/gif;base64,R0lGODlhFwAXAFAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4zLWMwMTEgNjYuMTQ1NjYxLCAyMDEyLzAyLzA2LTE0OjU2OjI3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOkJDREEyNzdGRTZBMUU5MTFBRjg3OUYzQjc1NDA2OTA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjBEREI5RDc2QjhGMDExRTk5NzhBRjk4ODM5OTMwQzUzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjBEREI5RDc1QjhGMDExRTk5NzhBRjk4ODM5OTMwQzUzIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDVFRTk4RjhFOUI4RTkxMTkzNzY5RTlFQzI1RDREMjkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkNEQTI3N0ZFNkExRTkxMUFGODc5RjNCNzU0MDY5MDciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQAAAAAACwAAAAAFwAXAIcAAAAAADMAAGYAAJkAAMwAAP8AKwAAKzMAK2YAK5kAK8wAK/8AVQAAVTMAVWYAVZkAVcwAVf8AgAAAgDMAgGYAgJkAgMwAgP8AqgAAqjMAqmYAqpkAqswAqv8A1QAA1TMA1WYA1ZkA1cwA1f8A/wAA/zMA/2YA/5kA/8wA//8zAAAzADMzAGYzAJkzAMwzAP8zKwAzKzMzK2YzK5kzK8wzK/8zVQAzVTMzVWYzVZkzVcwzVf8zgAAzgDMzgGYzgJkzgMwzgP8zqgAzqjMzqmYzqpkzqswzqv8z1QAz1TMz1WYz1Zkz1cwz1f8z/wAz/zMz/2Yz/5kz/8wz//9mAABmADNmAGZmAJlmAMxmAP9mKwBmKzNmK2ZmK5lmK8xmK/9mVQBmVTNmVWZmVZlmVcxmVf9mgABmgDNmgGZmgJlmgMxmgP9mqgBmqjNmqmZmqplmqsxmqv9m1QBm1TNm1WZm1Zlm1cxm1f9m/wBm/zNm/2Zm/5lm/8xm//+ZAACZADOZAGaZAJmZAMyZAP+ZKwCZKzOZK2aZK5mZK8yZK/+ZVQCZVTOZVWaZVZmZVcyZVf+ZgACZgDOZgGaZgJmZgMyZgP+ZqgCZqjOZqmaZqpmZqsyZqv+Z1QCZ1TOZ1WaZ1ZmZ1cyZ1f+Z/wCZ/zOZ/2aZ/5mZ/8yZ///MAADMADPMAGbMAJnMAMzMAP/MKwDMKzPMK2bMK5nMK8zMK//MVQDMVTPMVWbMVZnMVczMVf/MgADMgDPMgGbMgJnMgMzMgP/MqgDMqjPMqmbMqpnMqszMqv/M1QDM1TPM1WbM1ZnM1czM1f/M/wDM/zPM/2bM/5nM/8zM////AAD/ADP/AGb/AJn/AMz/AP//KwD/KzP/K2b/K5n/K8z/K///VQD/VTP/VWb/VZn/Vcz/Vf//gAD/gDP/gGb/gJn/gMz/gP//qgD/qjP/qmb/qpn/qsz/qv//1QD/1TP/1Wb/1Zn/1cz/1f///wD//zP//2b//5n//8z///8AAAAAAAAAAAAAAAAI/wARxDgg8ACcZfv2RYumieDAggUP4DhwI1TCixhBIbghkeLGggj3hYJzoCQQiwoPyFDJUmK0fcuAlJQRY2UMIAijeWwQA8EBTfuUWegZowGCBh0rINQ4cOKBhDI52rQp0EjCljI27QPloGfHiV27HtAKZ+LEl0CaHvBK9EBXq8vWCnz5caAMnl0brFyZ8MbGp/vk6tUrt+jdGFcFIkjYU2pJsw59Mu6I0AhLvw+LxngL0+1AOCINE/SLuaDWO3ZLQlXJs+BEvVYDb97sAGg0mUSN2lUaeGLEGC+XWZ64cqKRkHKleg25Cc5fNSgTLhPrdGIMUBizl0SoDGJqn3CUvTBUCKetMoWzO2IWW5L1bATBZzoUu5eq+wPnow10/JHjYKKKxYBQZBxhFtlXB+DVXkAAOw==\"","import { handleActions, createAction } from 'redux-actions';\r\nimport axios from 'axios';\r\n\r\n/**\r\n * 1) 액션 - 컴포넌트가 겪는 상황을 구분하는 문자열 값\r\n * \"파일이름/상황이름\" 값을 지정하면 다른 모듈과 Action값이 충돌하는 것을 방지할 수 있다.\r\n * Ajax 연동 기능 하나당 3개의 액션 정의\r\n * --> 목록을 가져오는 중, 목록 가져오기 성공, 목록 가져오기 실패\r\n */\r\nconst SEARCH = 'searchMap/SEARCH';\r\nconst SEARCH_SUCCESS = 'searchMap/SEARCH_SUCCESS';\r\nconst SEARCH_FAILURE = 'searchMap/SEARCH_FAILURE';\r\n\r\n/**\r\n * 2) 액션 생성 함수 - 액션 객체를 만들어서 리턴한다.\r\n * 컴포넌트에 대한 액션 값의 수 만큼 정의한다.\r\n *  --> createAction() 함수를 통해 함수 정의를 자동화\r\n */\r\nexport const searchAction          = createAction(SEARCH);\r\nexport const searchSuccessAction   = createAction(SEARCH_SUCCESS);\r\nexport const searchFailureAction   = createAction(SEARCH_FAILURE);\r\n\r\n/**\r\n * 3) 상태값 - 단순한 json 객체.\r\n * 컴포넌트에서 다루고자 하는 데이터들을 포함한다.\r\n */\r\nconst initialState = {\r\n    result: [],         // 장소목록\r\n    loading: false,     // 현재 검색중인지 여부\r\n    error: false       // 에러 발생 여부\r\n};\r\n\r\n/**\r\n * 4) 리듀서를 활용하여 스토어에 연결할 Action 정의하기\r\n * 각각의 action값을 메서드로 갖는 객체 형태로 정의한다.\r\n * 각각의 메서드는 initialState와 동일한 구조를 갖는 객체를 리턴해야 한다.\r\n * --> 특별한 처리로직을 갖지 않고, 각 상황에 따라 상태값만 조작하여 리턴한다.\r\n *\r\n * 스토어로 생성하기 위해 handleActions()함수를 사용하여 리듀서와 상태값을 묶어서 내보낸다.\r\n * 이 객체를 /index.js가 import하여 스토어로 생성한다.\r\n */\r\nexport default handleActions(\r\n    {\r\n        [searchAction]: (state = initialState, action) => {\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        },\r\n        [searchSuccessAction]: (state = initialState, action) => {\r\n            return {\r\n                ...state,\r\n                // payload는 action함수를 호출할 때 전달하는 파라미터 객체 \r\n                result: action.payload.result,\r\n                loading: false\r\n            };\r\n        },\r\n        [searchFailureAction]: (state = initialState, action) => {\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload.error\r\n            };\r\n        }\r\n    },\r\n    initialState\r\n);\r\n\r\n/** 5) 비동기 작업을 수행할 함수 정의 */\r\n// 컨테이너로부터 pos라는 파라미터를 전달받는다. (파라미터는 개발자가 상황에 따라 정의함)\r\n// 이 안에서 action함수들을 dispatch(호출)한다\r\n// 이렇게 정의된 함수들은 컨테이너의 props에 포함된다.\r\nexport const mapAsync = (place) => async dispatch => {\r\n    // 검색을 시작했음을 알림\r\n    dispatch(searchAction());\r\n\r\n    // 검색어가 없을 경우 --> 검색결과를 0건으로 지정하여 Success를 호출한다\r\n    if (!place) {\r\n        searchSuccessAction({ result: [] });\r\n        return;\r\n    }\r\n\r\n    try {\r\n        const result = await axios.get('https://dapi.kakao.com/v2/local/search/keyword.json', {\r\n            params: { query: place },\r\n            headers: { Authorization: \"KakaoAK c224c695a03e918f9e82942f5c7843a1\" }\r\n        });\r\n        // console.log(result);\r\n        dispatch(searchSuccessAction({ result: result.data.documents }));\r\n    } catch (e) {\r\n        // console.error(e);\r\n        dispatch(searchFailureAction({ error: '검색에 실패했습니다.' }));\r\n    }\r\n};\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport bg_btn_tt_search from '../assets/images/bg_btn_tt_search.gif';\r\n\r\n// 'react-redux' 패키지에서 제공하는 hook 함수\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n// 모듈기능 참조\r\nimport * as searchMapModule from \"../modules/SearchMap\";\r\n\r\nconst WrapDiv = styled.div``;\r\n\r\nconst TitleBar = styled.h1`\r\nbackground-color: #173647;\r\ntext-align: center;\r\ncolor: #fff;\r\nfont-size: 18px;\r\nheight: 36px;\r\nline-height: 36px;\r\nwidth: 100%;\r\nposition: fixed;\r\nleft: 0;\r\ntop: 0;\r\n`;\r\n\r\nconst TitleText = styled.span`\r\ntext-align: center;\r\ncolor: #fff;\r\nfont-size: 18px;\r\nheight: 36px;\r\nline-height: 36px;\r\nwidth: 100%;\r\nposition: fixed;\r\nleft: 0;\r\ntop: 0;\r\n`;\r\n\r\nconst SearchBar = styled.input`\r\nheight: 25px;\r\nline-height: 25px;\r\nwidth: 30%;\r\nposition: fixed;\r\nleft: 50%;\r\ntop: 3px;\r\nz-index: 1;\r\nborder-radius: 20px;\r\ndisplay: none;\r\noutline: none;\r\n`;\r\n\r\nconst SearchBtn = styled.input`\r\nwidth: 25px;\r\nheight: 25px;\r\nline-height: 25px;\r\nposition: fixed;\r\nleft: 82%;\r\ntop: 7px;\r\nz-index: 1;\r\ndisplay: none;\r\nbackground-image: url(${bg_btn_tt_search});\r\nborder: none;\r\nbackground-repeat: round;\r\n`;\r\n\r\nconst SearchDiv = styled.div`\r\nmargin-top: 35px;\r\nwidth: 100%;\r\nheight: 100%;\r\noverscroll: scroll;\r\nposition: fixed;\r\nz-index: 2;\r\nbackground-color: rgba(225, 225, 225, 0.5);\r\ndisplay: none;\r\n`;\r\n\r\nconst SearchList = styled.ul``;\r\n\r\nconst SearchListItem = styled.li`\r\nwidth: 95%;\r\nbackground-color: #fff;\r\npadding: 10px;\r\ntext-align: center;\r\nborder-bottom: solid 1px #333;\r\nmargin: auto;\r\nbackground-color: rgba(255, 255, 255, 0.6);\r\n\r\n&:last-child {\r\n  border-bottom: unset;\r\n}\r\n`;\r\n\r\nfunction handleSearchBar() {\r\n  const searchInput = document.getElementById(\"searchInput\");\r\n  const titleSpan = document.getElementById(\"titleSpan\");\r\n  const searchBtn = document.getElementById(\"searchBtn\");\r\n\r\n  if (searchInput.style.display === \"block\") {\r\n    searchInput.style.display = 'none';\r\n    searchBtn.style.display = 'none';\r\n    titleSpan.style.transform = \"translateX(0)\";\r\n    titleSpan.style.transitionDuration = \"1s\";\r\n    return;\r\n  }\r\n  titleSpan.style.transform = \"translateX(-15%)\";\r\n  titleSpan.style.transitionDuration = \"0.5s\";\r\n\r\n  setTimeout(function () {\r\n    searchInput.style.display = 'block';\r\n    searchBtn.style.display = 'block';\r\n  }, 200);\r\n};\r\n\r\nconst Header = props => {\r\n  /** Hook 기능을 통해 상태값 가져오기 */\r\n  const { result, loading, error } = useSelector(state => {\r\n    return {\r\n      ...state.searchMapModule\r\n    };\r\n  });\r\n\r\n  /** action함수를 dispatch 시키기 위한 기능 가져오기 */\r\n  const dispatch = useDispatch();\r\n\r\n  // 검색어\r\n  const [place, setPlace] = React.useState();\r\n\r\n  // 검색버튼 클릭 시 지도 검색 목록 가져오기\r\n  function handleSearchBtn() {\r\n    const placeEle = document.getElementById(\"searchInput\");\r\n\r\n    if (placeEle.value === \"\") {\r\n      alert(\"키워드를 입력하세요\");\r\n      placeEle.focus();\r\n    } else if (placeEle.value === place) {\r\n      alert(\"검색어가 이전과 같으면 검색이 되지않습니다.\");\r\n      placeEle.focus();\r\n    } else {\r\n      setPlace(placeEle.value);\r\n    }\r\n  }\r\n\r\n  /** 검색어 있는 경우 Ajax 연동 */\r\n  React.useEffect(() => {\r\n    dispatch(searchMapModule.mapAsync(place));\r\n  }, [place]);\r\n\r\n  return (\r\n    <WrapDiv>\r\n      <TitleBar>\r\n        <TitleText id=\"titleSpan\" onClick={handleSearchBar}>Mask Map</TitleText>\r\n        <SearchBar id=\"searchInput\" />\r\n        <SearchBtn id=\"searchBtn\" onClick={handleSearchBtn} />\r\n      </TitleBar>\r\n      <SearchDiv style={{display: result.length > 0 ? 'block' : 'none'}}>\r\n        <SearchList>\r\n          {/** 검색결과 데이터 수 만큼 목록의 아이템을 표시함 */}\r\n          {result.map((item, index) => {\r\n            return(<SearchListItem key={index} onClick={ () => {\r\n              props = {\r\n                coords : {\r\n                  latitude: item.y,\r\n                  longitude: item.x\r\n                }\r\n              }\r\n            }}>\r\n              {item.address_name}\r\n            </SearchListItem>)\r\n          })}\r\n        </SearchList>\r\n      </SearchDiv>\r\n    </WrapDiv>\r\n  );\r\n};\r\n\r\nexport default Header;","import { handleActions, createAction } from 'redux-actions';\r\nimport axios from 'axios';\r\n\r\n/**\r\n * 1) 액션 - 컴포넌트가 겪는 상황을 구분하는 문자열 값\r\n * \"파일이름/상황이름\" 값을 지정하면 다른 모듈과 Action값이 충돌하는 것을 방지할 수 있다.\r\n * Ajax 연동 기능 하나당 3개의 액션 정의\r\n * --> 목록을 가져오는 중, 목록 가져오기 성공, 목록 가져오기 실패\r\n */\r\nconst SEARCH = 'maskMap/SEARCH';\r\nconst SEARCH_SUCCESS = 'maskMap/SEARCH_SUCCESS';\r\nconst SEARCH_FAILURE = 'maskMap/SEARCH_FAILURE';\r\n\r\n/**\r\n * 2) 액션 생성 함수 - 액션 객체를 만들어서 리턴한다.\r\n * 컴포넌트에 대한 액션 값의 수 만큼 정의한다.\r\n *  --> createAction() 함수를 통해 함수 정의를 자동화\r\n */\r\nexport const searchAction          = createAction(SEARCH);\r\nexport const searchSuccessAction   = createAction(SEARCH_SUCCESS);\r\nexport const searchFailureAction   = createAction(SEARCH_FAILURE);\r\n\r\n/**\r\n * 3) 상태값 - 단순한 json 객체.\r\n * 컴포넌트에서 다루고자 하는 데이터들을 포함한다.\r\n */\r\nconst initialState = {\r\n    result: [],         // 약국목록\r\n    loading: false,     // 현재 검색중인지 여부\r\n    error: false       // 에러 발생 여부\r\n};\r\n\r\n/**\r\n * 4) 리듀서를 활용하여 스토어에 연결할 Action 정의하기\r\n * 각각의 action값을 메서드로 갖는 객체 형태로 정의한다.\r\n * 각각의 메서드는 initialState와 동일한 구조를 갖는 객체를 리턴해야 한다.\r\n * --> 특별한 처리로직을 갖지 않고, 각 상황에 따라 상태값만 조작하여 리턴한다.\r\n *\r\n * 스토어로 생성하기 위해 handleActions()함수를 사용하여 리듀서와 상태값을 묶어서 내보낸다.\r\n * 이 객체를 /index.js가 import하여 스토어로 생성한다.\r\n */\r\nexport default handleActions(\r\n    {\r\n        [searchAction]: (state = initialState, action) => {\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        },\r\n        [searchSuccessAction]: (state = initialState, action) => {\r\n            return {\r\n                ...state,\r\n                // payload는 action함수를 호출할 때 전달하는 파라미터 객체 \r\n                result: action.payload.result,\r\n                loading: false\r\n            };\r\n        },\r\n        [searchFailureAction]: (state = initialState, action) => {\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload.error\r\n            };\r\n        }\r\n    },\r\n    initialState\r\n);\r\n\r\n/** 5) 비동기 작업을 수행할 함수 정의 */\r\n// 컨테이너로부터 pos라는 파라미터를 전달받는다. (파라미터는 개발자가 상황에 따라 정의함)\r\n// 이 안에서 action함수들을 dispatch(호출)한다\r\n// 이렇게 정의된 함수들은 컨테이너의 props에 포함된다.\r\nexport const maskAsync = (lat, lng) => async dispatch => {\r\n    // 검색을 시작했음을 알림\r\n    dispatch(searchAction());\r\n\r\n    // 검색어가 없을 경우 --> 검색결과를 0건으로 지정하여 Success를 호출한다\r\n    if (!lat || !lng) {\r\n        searchSuccessAction({ result: [] });\r\n        return;\r\n    }\r\n\r\n    try {\r\n        const result = await axios.get('https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByGeo/json', {\r\n            params: { lat: lat, lng: lng, m: 5000 }\r\n        });\r\n        // console.debug(result.data);\r\n        dispatch(searchSuccessAction({ result: result.data.stores }));\r\n    } catch (e) {\r\n        // console.error(e);\r\n        dispatch(searchFailureAction({ error: '검색에 실패했습니다.' }));\r\n    }\r\n};\r\n","import React from \"react\";\r\n\r\nimport styled from \"styled-components\";\r\n\r\n/**\r\n * 위치정보 취득 컴포넌트\r\n * > yarn add react-geolocated\r\n * > https://no23reason.github.io/react-geolocated\r\n */\r\nimport { geolocated } from \"react-geolocated\";\r\n\r\n/**\r\n * 카카오 지도 컴포넌트\r\n */\r\nimport { Map, Marker, Overlay } from \"kakao-map-react\";\r\n\r\n// 'react-redux' 패키지에서 제공하는 hook 함수\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n// 모듈기능 참조\r\nimport * as maskMapModule from \"../modules/MaskMap\";\r\n\r\nconst MapBox = styled.div`\r\n  padding-top: 36px;\r\n  height: calc(100% - 36px);\r\n`;\r\n\r\nconst MaskMapContainer = props => {\r\n  // 지도에 적용할 위도, 경도값 추출\r\n  const pos = { lat: 37.485355200868526, lng: 126.89935859355552 };\r\n\r\n  const options = {\r\n    enableHighAccuracy: true, // 높은 정확도 사용\r\n    maximumAge: 0, // 캐시유효시간(사용안함)\r\n    timeout: Infinity // 타임아웃(무한대로 설정)\r\n  };\r\n\r\n  function geo_success(res_pos) {\r\n    const crd = res_pos.coords;\r\n\r\n    pos.lat = crd.latitude;\r\n    pos.lng = crd.longitude;\r\n  };\r\n\r\n  function geo_error(err) {\r\n    console.warn('ERROR(' + err.code + '): ' + err.message);\r\n  };\r\n\r\n  // geolocation을 통해 위, 경도값 받기\r\n  if (props.coords) {\r\n\t  pos.lat = props.coords.latitude;\r\n\t  pos.lng = props.coords.longitude;\r\n  } else {\r\n    navigator.geolocation.getCurrentPosition(geo_success, geo_error, options);\r\n  }\r\n\r\n  // 위치정보를 상태값으로 등록\r\n  const [position, setPosition] = React.useState(pos);\r\n  const [map, setMap] = React.useState();\r\n\r\n  /** Hook 기능을 통해 상태값 가져오기 */\r\n  const { result, loading, error } = useSelector(state => {\r\n      return {\r\n        ...state.maskMapModule\r\n      };\r\n  });\r\n\r\n  /** action함수를 dispatch 시키기 위한 기능 가져오기 */\r\n  const dispatch = useDispatch();\r\n  \r\n  /** 최초 실행 시 Ajax 연동 */\r\n  React.useEffect( () => {\r\n\t  dispatch(maskMapModule.maskAsync(position.lat, position.lng));\r\n  }, []);\r\n\r\n  /** 지도 이동 시 Ajax 연동 */\r\n  React.useEffect( () => {\r\n\t  dispatch(maskMapModule.maskAsync(position.lat, position.lng));\r\n  }, [position]);\r\n\r\n  /** 위치 정보 사용 가능 여부 확인 */\r\n  if (!props.isGeolocationAvailable) {\r\n    return <MapBox> 디바이스가 위치 정보를 지원하지 않습니다. </MapBox>;\r\n  }\r\n\r\n  if (!props.isGeolocationEnabled) {\r\n    return <MapBox> 위치 정보 사용이 허용되지 않았습니다. </MapBox>;\r\n  }\r\n\r\n  if (!props.coords) {\r\n    return <MapBox> 사용 가능한 위치 정보가 없습니다. </MapBox>;\r\n  }\r\n\r\n  if (loading) {\r\n    // return <h2 style={{ paddingTop: '36px', color: '#00f' }}>검색중입니다...</h2>;\r\n    \r\n    return (\r\n    <MapBox>\r\n      <Map\r\n        kakaoApiKey=\"680ab974e5cb1353034d6d7f21f2ec44\"\r\n        initialPosition={{\r\n          longitude: position.lng,\r\n          latitude: position.lat,\r\n          level: 10\r\n        }}\r\n        //지도에 표시되는 위치가 변경된 경우\r\n        onDragEnd={map => {\r\n          const center = map.getCenter();\r\n          setPosition({\r\n            lat : center.Ha,\r\n            lng : center.Ga\r\n          });\r\n        }}\r\n        center={{\r\n          longitude: position.lng,\r\n          latitude: position.lat\r\n        }}\r\n      >\r\n      </Map>\r\n    </MapBox>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n\t  return <h2 style={{ paddingTop: '36px', color: '#f00' }}>{error}</h2>;\r\n  }\r\n\r\n  return (\r\n    <MapBox>\r\n      <Map\r\n        kakaoApiKey=\"680ab974e5cb1353034d6d7f21f2ec44\"\r\n        initialPosition={{\r\n          longitude: position.lng,\r\n          latitude: position.lat,\r\n          level: 10\r\n        }}\r\n        //지도에 표시되는 위치가 변경된 경우\r\n        onDragEnd={map => {\r\n          const center = map.getCenter();\r\n          setPosition({\r\n            lat : center.Ha,\r\n            lng : center.Ga\r\n          });\r\n        }}\r\n        center={{\r\n          longitude: position.lng,\r\n          latitude: position.lat\r\n        }}\r\n      >\r\n        \r\n\t\t{/** 검색결과 데이터 수 만큼 목록의 아이템을 표시함 */}\r\n\t\t{result.map((item, index) => {\r\n\t\t\r\n\t\t\t// 100개 이상(녹색): 'plenty' / 30개 이상 100개미만(노랑색): 'some' / 2개 이상 30개 미만(빨강색): 'few' / 1개 이하(회색): 'empty' / 판매중지: 'break'\r\n\t\t\tlet color = null, state = null;\r\n\r\n\t\t\tswitch (item.remain_stat) {\r\n\t\t\t\tcase 'plenty':\r\n\t\t\t\t\tcolor = 'green';\r\n\t\t\t\t\tstate = '100개 이상';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'some':\r\n\t\t\t\t\tcolor = 'yellow';\r\n\t\t\t\t\tstate = '30개 이상 100개 미만';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'few':\r\n\t\t\t\t\tcolor = 'red';\r\n\t\t\t\t\tstate = '2개 이상 30개 미만';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'empty':\r\n\t\t\t\t\tcolor = 'grey';\r\n\t\t\t\t\tstate = '1개 이하';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tcolor = 'black';\r\n\t\t\t\t\tstate = '판매중단';\r\n\t\t\t}\r\n\r\n\t\t\treturn(<Marker key={index}\r\n\t\t\t\t\tlongitude={item.lng}\r\n\t\t\t\t\tlatitude={item.lat}\r\n\t\t\t\t\tonClick={() => { alert(`${item.name} / ${state}`); }}\r\n\t\t\t\t/>);\r\n\t\t})}\r\n      </Map>\r\n    </MapBox>\r\n  );\r\n};\r\n\r\n/**\r\n * 위치정보 취득 옵션 설정\r\n * HTML5의 Geolocation API에 기반함\r\n */\r\n\r\nexport default geolocated({\r\n  positionOptions: {\r\n    enableHighAccuracy: true, // 높은 정확도 사용\r\n    maximumAge: 0, // 캐시유효시간(사용안함)\r\n    timeout: Infinity // 타임아웃(무한대로 설정)\r\n  },\r\n  watchPosition: true // 이동하는 동안 위치 추적 사용\r\n})(MaskMapContainer);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Header from '../components/Header';\r\nimport MapContainer from '../containers/MaskMapContainer';\r\n\r\nconst Container = styled.div`\r\nwidth: 100%;\r\nheight: 100%;\r\n`;\r\n\r\nconst MaskMapPage = () => {\r\n    return (\r\n        <Container>\r\n            <Header />\r\n            <MapContainer />\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default MaskMapPage;","import React from 'react';\r\nimport MaskMapPage from './pages/MaskMapPage';\r\nimport './style.css';\r\n\r\nfunction App() {\r\n  return <MaskMapPage />;\r\n}\r\n\r\nexport default App;\r\n","import { combineReducers } from 'redux';\r\nimport maskMapModule from './MaskMap';\r\nimport searchMapModule from './SearchMap';\r\n\r\nexport default combineReducers({\r\n    maskMapModule,\r\n    searchMapModule\r\n});","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\n/** 리덕스를 위한 참조 추가 */\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { createLogger } from 'redux-logger';\r\nimport ReduxThunk from 'redux-thunk';\r\nimport rootReducer from './modules';\r\n\r\n/** 리덕스 스토어 생성 */\r\nconst logger = createLogger();\r\n// const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(logger, ReduxThunk)));\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(ReduxThunk)));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n      <BrowserRouter>\r\n          <App />\r\n      </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}