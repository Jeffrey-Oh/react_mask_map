(this["webpackJsonp19-kakao-map"]=this["webpackJsonp19-kakao-map"]||[]).push([[0],{48:function(e,t,n){e.exports=n(76)},74:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),o=n.n(c),l=n(10),i=n(11);function u(){var e=Object(l.a)(["\nbackground-color: #173647;\ntext-align: center;\ncolor: #fff;\nfont-size: 18px;\nheight: 36px;\nline-height: 36px;\nwidth: 100%;\nposition: fixed;\nleft: 0;\ntop: 0;\n"]);return u=function(){return e},e}var s,d=i.a.h1(u()),p=function(){return r.a.createElement(d,null,"Mask Map")},f=n(12),g=n(24),b=n(38),m=n(19),h=n(15),v=n(21),j=n.n(v),k=n(40),E=n(13),O=n(79),x=n(78),y=n(41),w=n.n(y),M=Object(O.a)("maskMap/SEARCH"),S=Object(O.a)("maskMap/SEARCH_SUCCESS"),A=Object(O.a)("maskMap/SEARCH_FAILURE"),C={result:[],loading:!1,error:!1},H=Object(x.a)((s={},Object(E.a)(s,M,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;arguments.length>1&&arguments[1];return Object(f.a)({},e,{loading:!0})})),Object(E.a)(s,S,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;return Object(f.a)({},e,{result:t.payload.result,loading:!1})})),Object(E.a)(s,A,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;return Object(f.a)({},e,{loading:!1,error:t.payload.error})})),s),C),R=function(e,t){return function(){var n=Object(k.a)(j.a.mark((function n(a){var r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a(M()),e&&t){n.next=4;break}return S({result:[]}),n.abrupt("return");case 4:return n.prev=4,n.next=7,w.a.get("https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByGeo/json",{params:{lat:e,lng:t,m:5e3}});case 7:r=n.sent,a(S({result:r.data.stores})),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),a(A({error:"\uac80\uc0c9\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."}));case 14:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e){return n.apply(this,arguments)}}()};function G(){var e=Object(l.a)(["\n  padding-top: 36px;\n  height: calc(100% - 36px);\n"]);return G=function(){return e},e}var T=i.a.div(G()),_=Object(b.geolocated)({positionOptions:{enableHighAccuracy:!0,maximumAge:0,timeout:1/0},watchPosition:!0})((function(e){var t={lat:37.4846258,lng:126.899857};e.coords&&(t.lat=e.coords.latitude,t.lng=e.coords.longitude);var n=r.a.useState(t),a=Object(g.a)(n,2),c=a[0],o=a[1],l=r.a.useState(),i=Object(g.a)(l,2),u=(i[0],i[1],Object(h.c)((function(e){return Object(f.a)({},e.maskMapModule)}))),s=u.result,d=u.loading,p=u.error,b=Object(h.b)();return r.a.useEffect((function(){b(R(c.lat,c.lng))}),[]),r.a.useEffect((function(){b(R(c.lat,c.lng))}),[c]),e.isGeolocationAvailable?e.isGeolocationEnabled?e.coords?d?r.a.createElement("h2",{style:{paddingTop:"36px",color:"#00f"}},"\uac80\uc0c9\uc911\uc785\ub2c8\ub2e4..."):p?r.a.createElement("h2",{style:{paddingTop:"36px",color:"#f00"}},p):r.a.createElement(T,null,r.a.createElement(m.a,{kakaoApiKey:"680ab974e5cb1353034d6d7f21f2ec44",initialPosition:{longitude:c.lng,latitude:c.lat,level:10},onDragEnd:function(e){var t=e.getCenter();o({lat:t.Ha,lng:t.Ga})},center:{longitude:c.lng,latitude:c.lat}},s.map((function(e,t){var n=null;switch(e.remain_stat){case"plenty":"green",n="100\uac1c \uc774\uc0c1";break;case"some":"yellow",n="30\uac1c \uc774\uc0c1 100\uac1c \ubbf8\ub9cc";break;case"few":"red",n="2\uac1c \uc774\uc0c1 30\uac1c \ubbf8\ub9cc";break;case"empty":"grey",n="1\uac1c \uc774\ud558";break;default:"black",n="\ud310\ub9e4\uc911\ub2e8"}return r.a.createElement(m.b,{key:t,longitude:e.lng,latitude:e.lat,onClick:function(){alert("".concat(e.name," / ").concat(n))}})})))):r.a.createElement(T,null," \uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc704\uce58 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. "):r.a.createElement(T,null," \uc704\uce58 \uc815\ubcf4 \uc0ac\uc6a9\uc774 \ud5c8\uc6a9\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4. "):r.a.createElement(T,null," \ub514\ubc14\uc774\uc2a4\uac00 \uc704\uce58 \uc815\ubcf4\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. ")}));function B(){var e=Object(l.a)(["\nwidth: 100%;\nheight: 100%;\n"]);return B=function(){return e},e}var D=i.a.div(B()),I=function(){return r.a.createElement(D,null,r.a.createElement(p,null),r.a.createElement(_,null))};n(74);var J=function(){return r.a.createElement(I,null)},L=n(46),P=n(4),U=n(42),z=n(43),F=n(44),K=Object(P.combineReducers)({maskMapModule:H}),W=Object(z.createLogger)(),q=Object(P.createStore)(K,Object(U.composeWithDevTools)(Object(P.applyMiddleware)(W,F.a)));o.a.render(r.a.createElement(h.a,{store:q},r.a.createElement(L.a,null,r.a.createElement(J,null))),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.0c4f2659.chunk.js.map